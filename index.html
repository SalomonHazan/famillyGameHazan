<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Ollama Mobile - Famille Hazan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: Arial, sans-serif;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB, #98D8E8);
            height: 100vh;
            height: -webkit-fill-available;
            position: relative;
            touch-action: none;
        }

        #gameCanvas {
            width: 100%;
            height: 100vh;
            height: -webkit-fill-available;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB, #98D8E8);
            padding-bottom: env(safe-area-inset-bottom);
        }

        .ground {
            position: absolute;
            bottom: env(safe-area-inset-bottom);
            width: 200%;
            height: 50px;
            background: linear-gradient(to top, #8FBC8F, #90EE90);
            border-top: 2px solid #6B8E23;
            z-index: 4;
        }

        .moving {
            animation: move 3s linear infinite;
        }

        @keyframes move {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); }
        }

        /* Alpaca */
        #ollama {
            position: absolute;
            bottom: calc(env(safe-area-inset-bottom) + 50px);
            left: 60px;
            width: 50px;
            height: 60px;
            z-index: 10;
            transition: bottom 0.3s ease-out;
        }

        .ollama-body {
            width: 40px;
            height: 40px;
            background: #FFE4B5;
            border-radius: 50%;
            border: 2px solid #8B7355;
            position: relative;
            margin: 0 auto;
        }

        .ollama-head {
            width: 25px;
            height: 25px;
            background: #FFE4B5;
            border-radius: 50%;
            border: 2px solid #8B7355;
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
        }

        .ollama-eye {
            width: 3px;
            height: 3px;
            background: black;
            border-radius: 50%;
            position: absolute;
            top: 8px;
        }

        .ollama-eye.left { left: 6px; }
        .ollama-eye.right { right: 6px; }

        .jumping {
            animation: jump 0.6s ease-out !important;
        }

        @keyframes jump {
            0%, 100% { bottom: calc(env(safe-area-inset-bottom) + 50px); }
            50% { bottom: calc(env(safe-area-inset-bottom) + 180px); }
        }

        /* Obstacles */
        .obstacle {
            position: absolute;
            bottom: calc(env(safe-area-inset-bottom) + 50px);
            right: -60px;
            width: 25px;
            height: 35px;
            background: #228B22;
            border-radius: 5px 5px 0 0;
            border: 2px solid #006400;
            z-index: 9;
        }

        /* Noms flottants */
        .name-float {
            position: absolute;
            background: white;
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
            color: #2E7D32;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            border: 2px solid #4CAF50;
            z-index: 15;
            max-width: 180px;
            text-align: center;
            animation: showName 3s ease-out;
        }

        @keyframes showName {
            0% { opacity: 0; transform: scale(0.8); }
            20% { opacity: 1; transform: scale(1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.8); }
        }

        /* Ã‰crans */
        .screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        #startScreen {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        #gameOverScreen {
            background: rgba(0,0,0,0.8);
            color: white;
            display: none;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 15px;
            text-align: center;
        }

        .btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            -webkit-appearance: none;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn-anniv {
            background: #FF6B6B;
            color: white;
            position: absolute;
            top: 40px;
            right: 15px;
            padding: 8px 15px;
            font-size: 12px;
            border-radius: 15px;
        }

        #birthdayScreen {
            background: #667eea;
            color: white;
            display: none;
            padding: 20px;
            padding-top: calc(20px + env(safe-area-inset-top));
            overflow-y: auto;
            height: 100vh;
            height: -webkit-fill-available;
        }

        #birthdayTable {
            background: white;
            color: #333;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            max-height: 60vh;
            overflow-y: auto;
        }

        #birthdayTable td {
            padding: 6px 8px;
            font-size: 12px;
            border-bottom: 1px solid #eee;
        }

        .hidden {
            display: none !important;
        }

        /* Instructions */
        .instructions {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 50;
        }

        /* Score */
        #score {
            position: fixed;
            top: 40px;
            left: 15px;
            background: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            z-index: 50;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        /* Touch zone */
        .touch-area {
            position: fixed;
            bottom: env(safe-area-inset-bottom);
            left: 0;
            width: 100%;
            height: 60px;
            z-index: 20;
            background: transparent;
        }

        /* Zone vide en haut */
        .ui-safe-zone {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 120px;
            background: linear-gradient(to bottom, rgba(135,206,235,0.3), transparent);
            z-index: 5;
            pointer-events: none;
        }

        @supports (padding: max(0px)) {
            .screen {
                padding: max(20px, env(safe-area-inset-top)) max(20px, env(safe-area-inset-right)) max(20px, env(safe-area-inset-bottom)) max(20px, env(safe-area-inset-left));
            }
        }
    </style>
</head>
<body>
    <div id="gameCanvas">
        <div class="ui-safe-zone"></div>
        
        <div id="score">Score: <span id="scoreValue">0</span></div>
        
        <button class="btn btn-anniv" onclick="showBirthdays()">ðŸ“… Anniv</button>
        
        <div id="ollama">
            <div class="ollama-head">
                <div class="ollama-eye left"></div>
                <div class="ollama-eye right"></div>
            </div>
            <div class="ollama-body"></div>
        </div>
        
        <div class="ground" id="ground"></div>
        
        <div class="touch-area" onclick="jump()"></div>
        
        <div class="instructions" id="instructions">
            Touchez l'Ã©cran pour sauter !
        </div>
    </div>

    <!-- Ã‰cran d'accueil -->
    <div id="startScreen" class="screen">
        <h1>ðŸ¦™ Ollama Adventure</h1>
        <h2>Famille Hazan</h2>
        <p style="text-align: center; margin: 15px; font-size: 14px;">
            Aidez Ollama Ã  sauter !<br>
            DÃ©couvrez les membres de la famille<br>
            quand vous passez un obstacle
        </p>
        <button class="btn" onclick="startGame()">COMMENCER</button>
    </div>

    <!-- Ã‰cran Game Over -->
    <div id="gameOverScreen" class="screen">
        <h1>Game Over!</h1>
        <p style="font-size: 18px; margin: 8px;">Score: <span id="finalScore">0</span></p>
        <p style="font-size: 18px; margin: 8px;">Meilleur: <span id="bestScore">0</span></p>
        <button class="btn" onclick="restartGame()">RÃ‰ESSAYER</button>
    </div>

    <!-- Ã‰cran Anniversaires -->
    <div id="birthdayScreen" class="screen">
        <h1>ðŸŽ‚ Anniversaires du Mois</h1>
        <div id="birthdayTable">
            <table style="width: 100%;">
                <tbody id="birthdayList">
                    <!-- Anniversaires ici -->
                </tbody>
            </table>
        </div>
        <button class="btn" onclick="backToGame()">RETOUR AU JEU</button>
    </div>

    <script>
        // DonnÃ©es CSV parsÃ©es
        const familyMembers = [
            { nom: "OHANA", prenom: "David", prenomHeb: "", naissance: "10/07/1981", naissanceHeb: "" },
            { nom: "OHANA", prenom: "Myriam", prenomHeb: "Avigail", naissance: "10/07/1981", naissanceHeb: "" },
            { nom: "OHANA", prenom: "Eliahou", prenomHeb: "", naissance: "", naissanceHeb: "Eloul" },
            { nom: "OHANA", prenom: "Yehouda", prenomHeb: "Chalom", naissance: "", naissanceHeb: "14 Heshvan" },
            { nom: "OHANA", prenom: "Mickhal", prenomHeb: "", naissance: "dÃ©cembre", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Routhy", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chalom", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "MochÃ©", prenomHeb: "Acher", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "TÃ©hila", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "OdÃ©lia", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chalom", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Avichag", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chilate", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Eliah", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BOASIS", prenom: "Iohann", prenomHeb: "", naissance: "06/11/1985", naissanceHeb: "22 Heshvan" },
            { nom: "REBUFFO", prenom: "Anaele", prenomHeb: "", naissance: "13/01/1987", naissanceHeb: "12 Tevet" },
            { nom: "BOASIS", prenom: "Noam", prenomHeb: "MochÃ©", naissance: "22/03/2019", naissanceHeb: "15 Adar II" },
            { nom: "BOASIS", prenom: "Shaya", prenomHeb: "Rachel", naissance: "42137", naissanceHeb: "24 Iyar" },
            { nom: "SABBAH", prenom: "Norman", prenomHeb: "Abraham", naissance: "23/09/1986", naissanceHeb: "19 Eloul" },
            { nom: "HAZAN", prenom: "Celine", prenomHeb: "Ruth", naissance: "14/02/1991", naissanceHeb: "1er Adar" },
            { nom: "BENACOUN", prenom: "Maurice", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BENACOUN", prenom: "Maely", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BENACOUN", prenom: "Shaely", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BENACOUN", prenom: "Mendel", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BENACOUN", prenom: "Elie", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "MEIMOUN", prenom: "Shaely", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "MEIMOUN", prenom: "Noam", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "ZOUARI", prenom: "Laeticia", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Elisheva", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Meir", prenomHeb: "", naissance: "01/07/2015", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Nissim", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chalom", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "David", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Esther", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Routh", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "AMAR", prenom: "Mickael", prenomHeb: "", naissance: "28/08/1980", naissanceHeb: "16 eloul" },
            { nom: "AMAR", prenom: "Yonathan", prenomHeb: "", naissance: "30/11/2015", naissanceHeb: "18 kislev" },
            { nom: "AMAR", prenom: "Aaron", prenomHeb: "", naissance: "05/01/2009", naissanceHeb: "9 Tevet" },
            { nom: "AMAR", prenom: "Eliahou", prenomHeb: "", naissance: "14/08/2001", naissanceHeb: "21 Tevet" },
            { nom: "AMAR", prenom: "Naoumie", prenomHeb: "", naissance: "08/08/2004", naissanceHeb: "21 av" },
            { nom: "AMAR", prenom: "Meir", prenomHeb: "", naissance: "13/05/2019", naissanceHeb: "8 iyar" },
            { nom: "AMAR", prenom: "Nissim", prenomHeb: "", naissance: "10/01/2013", naissanceHeb: "29 tevet" },
            { nom: "AMAR", prenom: "Hannah", prenomHeb: "", naissance: "17/05/1982", naissanceHeb: "24 iyar" },
            { nom: "FREOUA", prenom: "Liv Lydie", prenomHeb: "Beloria naomie", naissance: "15/04/2021", naissanceHeb: "3 Iyar" },
            { nom: "FREOUA", prenom: "Nina Sylvaine", prenomHeb: "Esther", naissance: "24/03/2018", naissanceHeb: "8 Nissan" },
            { nom: "FREOUA", prenom: "Alicia", prenomHeb: "Choulamith", naissance: "27/05/2014", naissanceHeb: "24 Adar" },
            { nom: "FREOUA", prenom: "Alma", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chalom", prenomHeb: "", naissance: "11/07/2023", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Johana", prenomHeb: "Lea", naissance: "09/05/1989", naissanceHeb: "4 Iyar" },
            { nom: "HAZAN", prenom: "David", prenomHeb: "", naissance: "09/04/2021", naissanceHeb: "27 nissan" },
            { nom: "HAZAN", prenom: "Myriam", prenomHeb: "", naissance: "26/11/2017", naissanceHeb: "8 Kislev" },
            { nom: "HAZAN", prenom: "Merav", prenomHeb: "", naissance: "10/02/2016", naissanceHeb: "1 Adar 1" },
            { nom: "HAZAN", prenom: "Esther", prenomHeb: "", naissance: "23/10/2014", naissanceHeb: "29 Tichri" },
            { nom: "HAZAN", prenom: "Eliahou", prenomHeb: "", naissance: "05/11/2019", naissanceHeb: "7 Heshvan" },
            { nom: "AZERAD", prenom: "Mickael", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "AZERAD", prenom: "Keren", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BELAICHE", prenom: "Mickael", prenomHeb: "Chalom ezchiel", naissance: "02/07/1989", naissanceHeb: "29 sivan" },
            { nom: "BELAICHE", prenom: "Avital", prenomHeb: "Avital Nina", naissance: "18/10/2021", naissanceHeb: "12 Heshvan" },
            { nom: "BELAICHE", prenom: "Batya", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Lea", prenomHeb: "", naissance: "12/09/1988", naissanceHeb: "1 Tichri" },
            { nom: "HAZAN", prenom: "Eliahou", prenomHeb: "", naissance: "08/11/2012", naissanceHeb: "23 Heshvan" },
            { nom: "HAZAN", prenom: "David", prenomHeb: "", naissance: "25/10/2017", naissanceHeb: "5 Heshvan" },
            { nom: "HAZAN", prenom: "Miryam", prenomHeb: "", naissance: "27/09/2011", naissanceHeb: "28 Eloul" },
            { nom: "FERTOU", prenom: "David Avraham", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "FERTOU", prenom: "Naoumie", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BOTBOL", prenom: "Chmouel", prenomHeb: "", naissance: "14/12/1986", naissanceHeb: "13 Kislev" },
            { nom: "BOTBOL", prenom: "Raphael", prenomHeb: "", naissance: "10/11/2010", naissanceHeb: "3 Kislev" },
            { nom: "BOTBOL", prenom: "Myriam", prenomHeb: "", naissance: "13/09/2012", naissanceHeb: "27 Eloul" },
            { nom: "BOTBOL", prenom: "Eliahou", prenomHeb: "", naissance: "25/06/2018", naissanceHeb: "12 Tamouz" },
            { nom: "BOTBOL", prenom: "NÃ©thanel Chalom", prenomHeb: "", naissance: "10/11/2020", naissanceHeb: "23 heshvan" },
            { nom: "BOTBOL", prenom: "Shayli", prenomHeb: "", naissance: "01/09/2024", naissanceHeb: "28 Av" },
            { nom: "AZRIA", prenom: "MochÃ©", prenomHeb: "Nissim", naissance: "09/07/2016", naissanceHeb: "3 Tamouz" },
            { nom: "AZRIA", prenom: "Akiva", prenomHeb: "Hay", naissance: "14/11/2017", naissanceHeb: "25 Heshvan" },
            { nom: "AZRIA", prenom: "Avigail", prenomHeb: "", naissance: "26/12/2019", naissanceHeb: "29 Kislev" },
            { nom: "AZRIA", prenom: "Noa", prenomHeb: "", naissance: "17/08/2021", naissanceHeb: "10 Eloul" },
            { nom: "AZRIA", prenom: "Aurel", prenomHeb: "", naissance: "23/05/1984", naissanceHeb: "21 iyar" },
            { nom: "FAROUZE", prenom: "Osnat", prenomHeb: "", naissance: "11/11/1994", naissanceHeb: "8 Kislev" },
            { nom: "FAROUZE", prenom: "David", prenomHeb: "", naissance: "07/08/1995", naissanceHeb: "11 Av" },
            { nom: "FAROUZE", prenom: "Shirelle", prenomHeb: "", naissance: "29/04/2020", naissanceHeb: "5 Iyar" },
            { nom: "FAROUZE", prenom: "Eden", prenomHeb: "", naissance: "29/06/2021", naissanceHeb: "19 Tamouz" },
            { nom: "FAROUZE", prenom: "Noa", prenomHeb: "", naissance: "10/07/2024", naissanceHeb: "4 Av" },
            { nom: "NAKACHE", prenom: "Yossef", prenomHeb: "", naissance: "16/06/2005", naissanceHeb: "" },
            { nom: "NAKACHE", prenom: "Myriam", prenomHeb: "", naissance: "24/10/2007", naissanceHeb: "12 Heshvan" },
            { nom: "NAKACHE", prenom: "Ayala Noa", prenomHeb: "", naissance: "25/09/2006", naissanceHeb: "3 Tichri" },
            { nom: "NAKACHE", prenom: "Odaya", prenomHeb: "", naissance: "14/01/2012", naissanceHeb: "19 Tevet" },
            { nom: "NAKACHE", prenom: "Liora", prenomHeb: "", naissance: "05/01/2016", naissanceHeb: "24 Tevet" },
            { nom: "NAKACHE", prenom: "MochÃ©", prenomHeb: "", naissance: "22/09/2019", naissanceHeb: "22 Eloul" },
            { nom: "BENCHETRIT", prenom: "Bryan", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "BENCHETRIT", prenom: "Levy", prenomHeb: "Yehia", naissance: "17/10/2024", naissanceHeb: "14 Tichri" },
            { nom: "AMAR", prenom: "Ytshak", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "AMAR", prenom: "Chalom", prenomHeb: "Yaacov", naissance: "28/10/2024", naissanceHeb: "25 Tichri" },
            { nom: "COHEN", prenom: "Shimon", prenomHeb: "", naissance: "26/05/2020", naissanceHeb: "29 Iyar" },
            { nom: "COHEN", prenom: "Anaelle", prenomHeb: "", naissance: "15/03/2023", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Shalva", prenomHeb: "", naissance: "10/12/1999", naissanceHeb: "" },
            { nom: "LEVY", prenom: "Ethan", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "LEVY", prenom: "Lital", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "OHAYON", prenom: "David", prenomHeb: "", naissance: "03/12/2014", naissanceHeb: "12 Kislev" },
            { nom: "OHAYON", prenom: "Eyhan", prenomHeb: "", naissance: "16/02/2018", naissanceHeb: "1 adar" },
            { nom: "OHAYON", prenom: "Eliah Itshak", prenomHeb: "", naissance: "27/01/2022", naissanceHeb: "25 Shevat" },
            { nom: "OHAYON", prenom: "Almog", prenomHeb: "", naissance: "07/03/1985", naissanceHeb: "14 Adar II" },
            { nom: "HAZAN", prenom: "Ouriel", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "COHEN", prenom: "Or", prenomHeb: "", naissance: "29/11/2018", naissanceHeb: "" },
            { nom: "COHEN", prenom: "Aria", prenomHeb: "", naissance: "20/06/2020", naissanceHeb: "28 Sivan" },
            { nom: "COHEN", prenom: "Gabriel", prenomHeb: "", naissance: "20/09/2023", naissanceHeb: "5 Tichri" },
            { nom: "HAZAN", prenom: "Tselia", prenomHeb: "", naissance: "02/12/1991", naissanceHeb: "" },
            { nom: "SANANES", prenom: "Mickael", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "ZAGOURI", prenom: "MochÃ©", prenomHeb: "", naissance: "09/08/1998", naissanceHeb: "8 Sivan" },
            { nom: "ZAGOURI", prenom: "Mordehai", prenomHeb: "", naissance: "10/07/1996", naissanceHeb: "23 Tamouz" },
            { nom: "ZAGOURI", prenom: "David", prenomHeb: "", naissance: "30/12/2015", naissanceHeb: "" },
            { nom: "ZAGOURI", prenom: "Shira", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "ZAGOURI", prenom: "Sarah", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "ZAGOURI", prenom: "Yaacov", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "YchaÃ¯", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Auralie", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Aviel", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Yonathan", prenomHeb: "", naissance: "27/09/1984", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Chalom", prenomHeb: "Arel", naissance: "04/06/2007", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "LinoÃ©", prenomHeb: "", naissance: "03/12/2009", naissanceHeb: "" },
            { nom: "SUISSA", prenom: "Oshrate", prenomHeb: "", naissance: "29/07/1981", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Shir", prenomHeb: "Esther", naissance: "17/06/2017", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Liel", prenomHeb: "MochÃ©", naissance: "29/12/2008", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "Dvorah", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "yehoudit", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "Mickhael", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "Routh", prenomHeb: "Esther", naissance: "", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "MÃ©ir", prenomHeb: "Chalom", naissance: "", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "Avital", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "CHETRIT", prenom: "Yehouda", prenomHeb: "", naissance: "", naissanceHeb: "" },
            { nom: "CHITRIT", prenom: "Esther", prenomHeb: "Odaya", naissance: "11/02/1998", naissanceHeb: "16 shevat" },
            { nom: "HAZAN", prenom: "Eliezer Israel", prenomHeb: "", naissance: "19/01/", naissanceHeb: "" },
            { nom: "HAZAN", prenom: "Yaffa Haya", prenomHeb: "", naissance: "01/01/2022", naissanceHeb: "29 tevet" },
            { nom: "HAZAN", prenom: "Myriam", prenomHeb: "", naissance: "12/09/2023", naissanceHeb: "26 eloul" }
        ];

        // Variables du jeu
        let gameRunning = false;
        let score = 0;
        let highScore = localStorage.getItem('highScore') || 0;
        let speed = 3;
        let obstacles = [];
        let gameInterval;
        let obstacleInterval;
        let passedObstacles = [];
        let usedIndices = [];

        // Initialisation
        document.getElementById('bestScore').textContent = highScore;

        // Saut
        function jump() {
            if (!gameRunning) return;
            
            const ollama = document.getElementById('ollama');
            if (ollama.classList.contains('jumping')) return;
            
            ollama.classList.add('jumping');
            setTimeout(() => {
                ollama.classList.remove('jumping');
            }, 600);
        }

        // CrÃ©er obstacle
        function createObstacle() {
            const obstacle = document.createElement('div');
            obstacle.className = 'obstacle';
            obstacle.style.right = '-50px';
            obstacle.id = 'obs_' + Date.now();
            document.getElementById('gameCanvas').appendChild(obstacle);
            obstacles.push(obstacle);
        }

        // Afficher nom alÃ©atoire
        function showRandomName(x, y) {
            // RÃ©cupÃ©rer un membre alÃ©atoire non utilisÃ©
            if (usedIndices.length >= familyMembers.length) {
                usedIndices = [];
            }
            
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * familyMembers.length);
            } while (usedIndices.includes(randomIndex));
            
            usedIndices.push(randomIndex);
            const member = familyMembers[randomIndex];

            const nameDiv = document.createElement('div');
            nameDiv.className = 'name-float';
            nameDiv.style.left = x + 'px';
            nameDiv.style.top = y + 'px';
            
            let content = '<strong>' + member.prenom + ' ' + member.nom + '</strong>';
            if (member.prenomHeb) {
                content += '<br><small><em>(' + member.prenomHeb + ')</em></small>';
            }
            
            let birthInfo = '';
            if (member.naissance && member.naissance !== "") {
                birthInfo = member.naissance;
            }
            if (member.naissanceHeb && member.naissanceHeb !== "") {
                birthInfo += (birthInfo ? ' | ' : '') + member.naissanceHeb;
            }
            
            if (birthInfo) {
                content += '<br><small>' + birthInfo + '</small>';
            }
            
            nameDiv.innerHTML = content;
            document.getElementById('gameCanvas').appendChild(nameDiv);
            
            // Nettoyer aprÃ¨s 3 secondes
            setTimeout(() => {
                if (nameDiv.parentNode) {
                    nameDiv.parentNode.removeChild(nameDiv);
                }
            }, 3000);
        }

        // Boucle de jeu
        function gameLoop() {
            if (!gameRunning) return;

            obstacles = obstacles.filter(obstacle => {
                let right = parseFloat(obstacle.style.right) || -50;
                right += speed;
                obstacle.style.right = right + 'px';

                // Collision
                const ollama = document.getElementById('ollama');
                const ollamaRect = ollama.getBoundingClientRect();
                const obstacleRect = obstacle.getBoundingClientRect();

                if (ollamaRect.left < obstacleRect.right &&
                    ollamaRect.right > obstacleRect.left &&
                    ollamaRect.bottom > obstacleRect.top &&
                    ollamaRect.top < obstacleRect.bottom) {
                    gameOver();
                    return false;
                }

                // Obstacle passÃ©
                if (obstacleRect.right < ollamaRect.left && !passedObstacles.includes(obstacle.id)) {
                    passedObstacles.push(obstacle.id);
                    score++;
                    document.getElementById('scoreValue').textContent = score;
                    
                    // Afficher un nom alÃ©atoire
                    const randomX = Math.random() * (window.innerWidth - 200) + 20;
                    const randomY = 20;
                    showRandomName(randomX, randomY);
                }

                // Supprimer obstacle hors Ã©cran
                if (right > window.innerWidth + 100) {
                    obstacle.remove();
                    return false;
                }

                return true;
            });

            requestAnimationFrame(gameLoop);
        }

        // DÃ©marrer jeu
        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('instructions').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('instructions').style.display = 'none';
            }, 3000);

            gameRunning = true;
            score = 0;
            speed = 3;
            obstacles = [];
            passedObstacles = [];
            usedIndices = [];
            
            document.getElementById('scoreValue').textContent = score;
            document.getElementById('ground').classList.add('moving');

            obstacleInterval = setInterval(() => {
                if (gameRunning) createObstacle();
            }, 2000);

            setInterval(() => {
                if (gameRunning && speed < 8) speed += 0.5;
            }, 5000);

            gameLoop();
        }

        // Game Over
        function gameOver() {
            gameRunning = false;
            clearInterval(obstacleInterval);
            document.getElementById('ground').classList.remove('moving');

            if (score > highScore) {
                highScore = score;
                localStorage.setItem('highScore', highScore);
            }

            document.getElementById('finalScore').textContent = score;
            document.getElementById('bestScore').textContent = highScore;
            document.getElementById('gameOverScreen').style.display = 'flex';

            obstacles.forEach(obs => obs.remove());
            obstacles = [];
        }

        // Recommencer
        function restartGame() {
            document.getElementById('gameOverScreen').style.display = 'none';
            startGame();
        }

        // Anniversaires
        function showBirthdays() {
            const now = new Date();
            const currentMonth = now.getMonth();
            const monthNames = ["Janvier", "FÃ©vrier", "Mars", "Avril", "Mai", "Juin", 
                               "Juillet", "AoÃ»t", "Septembre", "Octobre", "Novembre", "DÃ©cembre"];
            
            const birthdays = familyMembers.filter(member => {
                if (!member.naissance || member.naissance === "") return false;
                const [day, month, year] = member.naissance.split('/');
                return parseInt(month) - 1 === currentMonth;
            });

            let html = '<tr><td colspan="3"><h3>' + monthNames[currentMonth] + '</h3></td></tr>';
            
            if (birthdays.length === 0) {
                html += '<tr><td colspan="3" style="text-align: center; padding: 20px; font-size: 14px;">Aucun anniversaire ce mois-ci</td></tr>';
            } else {
                birthdays.forEach(member => {
                    html += '<tr>';
                    html += '<td><strong>' + member.prenom + ' ' + member.nom + '</strong>';
                    if (member.prenomHeb) {
                        html += '<br><small><em>(' + member.prenomHeb + ')</em></small>';
                    }
                    html += '</td>';
                    html += '<td>' + member.naissance + '</td>';
                    html += '<td style="text-align: center;">';
                    if (member.naissanceHeb) {
                        html += '<small>' + member.naissanceHeb + '</small>';
                    }
                    html += '</td>';
                    html += '</tr>';
                });
            }

            document.getElementById('birthdayList').innerHTML = html;
            document.getElementById('birthdayScreen').style.display = 'flex';
            
            if (gameRunning) {
                gameRunning = false;
                clearInterval(obstacleInterval);
                document.getElementById('ground').classList.remove('moving');
            }
        }

        // Retour au jeu
        function backToGame() {
            document.getElementById('birthdayScreen').style.display = 'none';
            
            if (score > 0) {
                gameRunning = true;
                document.getElementById('ground').classList.add('moving');
                obstacleInterval = setInterval(() => {
                    if (gameRunning) createObstacle();
                }, 2000);
                gameLoop();
            }
        }

        // Touch events
        document.addEventListener('touchstart', function(e) {
            if (gameRunning && e.target.closest('#gameCanvas')) {
                e.preventDefault();
                jump();
            }
        });

        document.addEventListener('click', function(e) {
            if (gameRunning && e.target.closest('#gameCanvas')) {
                jump();
            }
        });

        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        // Nettoyage au chargement
        window.addEventListener('load', function() {
            document.getElementById('gameOverScreen').style.display = 'none';
            document.getElementById('birthdayScreen').style.display = 'none';
        });
    </script>
</body>
</html>

